<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light" />
  <title>Tab URL Extractor ‚Äî TUE-Documentation v1</title>
  <style>
    /*
      TUE Documentation (v1)
      Theme based on popup/popup.css variables
    */

    :root {
      --color-primary: #4285f4;
      --color-primary-hover: #3367d6;
      --color-primary-active: #2952b3;
      --color-secondary: #5f6368;
      --color-secondary-hover: #4a4d50;
      --color-success: #34a853;
      --color-error: #ea4335;
      --color-warning: #fbbc04;

      --color-bg: #ffffff;
      --color-surface: #f8f9fa;
      --color-border: #dadce0;
      --color-text-primary: #202124;
      --color-text-secondary: #5f6368;
      --color-text-disabled: #9aa0a6;

      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 12px;

      --shadow-sm: 0 1px 2px 0 rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
      --shadow-md: 0 1px 3px 0 rgba(60, 64, 67, 0.3), 0 4px 8px 3px rgba(60, 64, 67, 0.15);

      --transition-fast: 150ms ease;
      --transition-normal: 250ms ease;

      --max-content: 1040px;
      --sidebar-width: 320px;
      --topbar-height: 56px;

      --mono-font: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --ui-font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    }

    * { box-sizing: border-box; }

    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: var(--ui-font);
      color: var(--color-text-primary);
      background: var(--color-bg);
    }

    a { color: var(--color-primary); text-decoration: none; }
    a:hover { color: var(--color-primary-hover); text-decoration: underline; }

    code, pre { font-family: var(--mono-font); }
    pre {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: 12px;
      overflow: auto;
    }
    code {
      background: rgba(66, 133, 244, 0.08);
      padding: 0 6px;
      border-radius: var(--radius-sm);
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* ========================================
       Landing components
       ======================================== */
    .badges {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }

    .badge {
      font-size: 12px;
      color: var(--color-text-secondary);
      padding: 6px 10px;
      background: #fff;
      border: 1px solid var(--color-border);
      border-radius: 999px;
      white-space: nowrap;
    }

    .badge strong {
      color: var(--color-text-primary);
      font-weight: 700;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
      margin-top: 14px;
    }

    .col-6 { grid-column: span 6; }
    .col-4 { grid-column: span 4; }
    .col-8 { grid-column: span 8; }
    .col-12 { grid-column: span 12; }

    .card {
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      background: #fff;
      padding: 12px 12px;
      box-shadow: var(--shadow-sm);
    }

    .card-top {
      display: flex;
      align-items: flex-start;
      gap: 12px;
    }

    .i-badge {
      width: 40px;
      height: 40px;
      border-radius: 14px;
      display: grid;
      place-items: center;
      font-weight: 900;
      flex: 0 0 auto;
      border: 1px solid rgba(91, 114, 255, 0.22);
      background: #eef2ff;
      color: #3b5bfd;
      box-shadow: 0 6px 18px rgba(91, 114, 255, 0.18);
    }

    .i-green { background: rgba(52, 168, 83, 0.14); color: #0f7a39; border-color: rgba(52, 168, 83, 0.25); box-shadow: 0 6px 18px rgba(52, 168, 83, 0.16); }
    .i-orange { background: rgba(251, 188, 4, 0.18); color: #a05c00; border-color: rgba(251, 188, 4, 0.30); box-shadow: 0 6px 18px rgba(251, 188, 4, 0.18); }
    .i-pink { background: rgba(233, 30, 99, 0.12); color: #a51d4f; border-color: rgba(233, 30, 99, 0.22); box-shadow: 0 6px 18px rgba(233, 30, 99, 0.12); }
    .i-cyan { background: rgba(0, 184, 212, 0.12); color: #006b7c; border-color: rgba(0, 184, 212, 0.22); box-shadow: 0 6px 18px rgba(0, 184, 212, 0.12); }
    .i-purple { background: rgba(124, 58, 237, 0.12); color: #4c1d95; border-color: rgba(124, 58, 237, 0.22); box-shadow: 0 6px 18px rgba(124, 58, 237, 0.14); }

    .card-top h3 { margin: 0 0 6px; }
    .card-top p { margin: 0; }

    .flow-grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
      margin-top: 10px;
    }

    .flow-step {
      grid-column: span 3;
      border: 1px solid #e5e7eb;
      background: #f3f6ff;
      border-radius: 14px;
      padding: 12px;
      min-width: 0;
    }

    .flow-step .n {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      display: inline-grid;
      place-items: center;
      background: #5b72ff;
      color: #fff;
      font-weight: 800;
      font-size: 12px;
      margin-bottom: 10px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.06);
    }

    .flow-step h4 {
      margin: 0 0 6px;
      font-size: 13px;
      letter-spacing: -0.1px;
    }

    .flow-step p {
      margin: 0;
      color: var(--color-text-secondary);
      font-size: 12.5px;
      line-height: 1.5;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .accent-note {
      margin-top: 10px;
      border: 1px solid #dbeafe;
      background: #eff6ff;
      border-left: 4px solid #5b72ff;
      border-radius: 12px;
      padding: 10px 12px;
      color: var(--color-text-primary);
    }

    .accent-note strong { font-weight: 900; }

    .tech-col-title {
      font-weight: 900;
      letter-spacing: 0.6px;
      font-size: 12px;
      color: #1a56db;
      text-transform: uppercase;
      margin: 0 0 10px;
    }

    .tech-item {
      border: 1px solid #eef2f7;
      border-radius: 14px;
      padding: 12px;
      background: #fff;
      margin-top: 10px;
    }

    .tech-item:first-of-type { margin-top: 0; }

    .tech-item-head {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 8px;
    }

    .tech-item-head h4 {
      margin: 0;
      font-size: 14px;
      letter-spacing: -0.1px;
    }

    .tech-pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--color-border);
      background: #f3f4f6;
      color: #374151;
      font-weight: 800;
      font-size: 12px;
      white-space: nowrap;
    }

    @media (max-width: 980px) {
      .flow-step { grid-column: span 12; }
    }

    .card h3 {
      margin: 0 0 6px;
      font-size: 14px;
      letter-spacing: -0.1px;
    }

    .card p {
      margin: 0;
      color: var(--color-text-secondary);
      line-height: 1.55;
      font-size: 13px;
    }

    .two-col {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 12px;
    }

    .mini-title {
      font-size: 12px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.6px;
      color: var(--color-text-secondary);
      margin: 14px 0 6px;
    }

    .link-row {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .link-row a {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
      text-decoration: none;
    }

    .link-row a:hover {
      text-decoration: underline;
    }

    /* ========================================
       Requirements/Future cards (section-only)
       ======================================== */
    .section-panel {
      margin-top: 12px;
      border: 1px solid var(--color-border);
      border-radius: 18px;
      background: #fff;
      padding: 18px;
      box-shadow: var(--shadow-sm);
    }

    .section-head {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 8px;
    }

    .section-head h3 {
      margin: 0;
      font-size: 20px;
      letter-spacing: -0.2px;
      color: #5b72ff;
    }

    .section-subtitle {
      margin: 0 0 12px;
      color: var(--color-text-secondary);
      line-height: 1.55;
    }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--color-border);
      background: rgba(66, 133, 244, 0.08);
      color: #3b5bfd;
      font-weight: 700;
      font-size: 12px;
      white-space: nowrap;
    }

    .chip.gray {
      background: #f3f4f6;
      color: #374151;
      border-color: #e5e7eb;
    }

    .chip.green {
      background: rgba(52, 168, 83, 0.12);
      color: #0f7a39;
      border-color: rgba(52, 168, 83, 0.35);
    }

    .chip.orange {
      background: rgba(251, 188, 4, 0.14);
      color: #a05c00;
      border-color: rgba(251, 188, 4, 0.45);
    }

    .req-grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
      margin-top: 12px;
    }

    .req-card {
      grid-column: span 4;
      border: 1px solid rgba(218, 220, 224, 0.8);
      border-radius: 16px;
      background: #fff;
      padding: 14px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.04);
      min-width: 0;
    }

    .req-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 10px;
    }

    .req-card h4 {
      margin: 0 0 6px;
      font-size: 15px;
      letter-spacing: -0.1px;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .req-card p {
      margin: 0 0 10px;
      color: var(--color-text-secondary);
      line-height: 1.55;
      font-size: 13px;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .req-code {
      border: 1px solid #e5e7eb;
      background: #f9fafb;
      border-radius: 12px;
      padding: 10px;
      font-family: var(--mono-font);
      font-size: 12px;
      color: #111827;
      line-height: 1.45;
      white-space: pre-wrap;
      max-width: 100%;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .req-code strong {
      font-family: var(--ui-font);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.6px;
      color: #374151;
    }

    @media (max-width: 980px) {
      .req-card { grid-column: span 12; }
    }

    /* ========================================
       Use cases (cards + diagrams)
       ======================================== */
    .uc-grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 14px;
      margin-top: 12px;
    }

    .uc-card {
      grid-column: span 6;
      border: 1px solid rgba(218, 220, 224, 0.8);
      border-radius: 16px;
      background: #fff;
      padding: 14px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.04);
      min-width: 0;
    }

    .uc-card h4 {
      margin: 0 0 6px;
      font-size: 15px;
      letter-spacing: -0.1px;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .uc-card p {
      margin: 0 0 10px;
      color: var(--color-text-secondary);
      line-height: 1.55;
      font-size: 13px;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .uc-kv {
      margin: 0 0 8px;
      line-height: 1.55;
      color: var(--color-text-secondary);
      font-size: 13px;
    }

    .uc-kv strong {
      color: var(--color-text-primary);
    }

    .uc-highlight {
      margin: 10px 0;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid #dbeafe;
      background: #eff6ff;
      border-left: 4px solid rgba(52, 168, 83, 0.85);
      color: var(--color-text-primary);
    }

    .uc-highlight strong {
      font-weight: 800;
    }

    .uc-diagram {
      border: 1px solid rgba(218, 220, 224, 0.8);
      border-radius: 18px;
      background: #fff;
      padding: 16px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.04);
      margin-top: 14px;
      min-width: 0;
    }

    .uc-diagram-title {
      margin: 0 0 10px;
      font-size: 16px;
      letter-spacing: -0.1px;
    }

    .steps {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 10px;
      margin-top: 10px;
    }

    .step {
      grid-column: span 3;
      border: 1px solid #e5e7eb;
      background: #f3f6ff;
      border-radius: 14px;
      padding: 12px;
      min-width: 0;
    }

    .step .n {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      display: inline-grid;
      place-items: center;
      background: #5b72ff;
      color: #fff;
      font-weight: 800;
      font-size: 12px;
      margin-bottom: 10px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.06);
    }

    .step h5 {
      margin: 0 0 6px;
      font-size: 13px;
      letter-spacing: -0.1px;
    }

    .step p {
      margin: 0;
      color: var(--color-text-secondary);
      font-size: 12.5px;
      line-height: 1.5;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .info-row {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 10px;
      margin-top: 10px;
    }

    .info {
      grid-column: span 4;
      border: 1px solid #e5e7eb;
      background: #f9fafb;
      border-radius: 14px;
      padding: 12px;
      min-width: 0;
    }

    .info h5 {
      margin: 0 0 6px;
      font-size: 13px;
      letter-spacing: -0.1px;
    }

    .info p {
      margin: 0;
      color: var(--color-text-secondary);
      font-size: 12.5px;
      line-height: 1.5;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    @media (max-width: 980px) {
      .uc-card { grid-column: span 12; }
      .step { grid-column: span 12; }
      .info { grid-column: span 12; }
    }

    /* ========================================
       Architecture (section-only)
       ======================================== */
    .arch-layer-grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
      margin-top: 12px;
    }

    .arch-layer {
      grid-column: span 4;
      border: 1px solid rgba(218, 220, 224, 0.8);
      border-radius: 16px;
      background: #fff;
      padding: 14px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.04);
      min-width: 0;
    }

    .arch-layer h4 {
      margin: 0 0 6px;
      font-size: 14px;
      letter-spacing: -0.1px;
    }

    .arch-layer p {
      margin: 0;
      color: var(--color-text-secondary);
      line-height: 1.55;
      font-size: 13px;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .arch-pill {
      display: inline-flex;
      align-items: center;
      padding: 3px 10px;
      border-radius: 999px;
      background: rgba(91, 114, 255, 0.12);
      color: #3b5bfd;
      border: 1px solid rgba(91, 114, 255, 0.25);
      font-family: var(--mono-font);
      font-size: 12px;
      white-space: nowrap;
    }

    .arch-layout {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 14px;
      margin-top: 14px;
    }

    .arch-structure {
      border: 1px solid rgba(218, 220, 224, 0.8);
      border-radius: 18px;
      overflow: hidden;
      background: #fff;
      box-shadow: 0 1px 2px rgba(0,0,0,0.04);
      min-width: 0;
    }

    .arch-structure-head {
      padding: 14px 14px;
      background: linear-gradient(90deg, #5b72ff, #6b4be3);
      color: #fff;
      display: grid;
      gap: 6px;
    }

    .arch-structure-title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 900;
      letter-spacing: -0.2px;
    }

    .arch-structure-title .ico {
      width: 34px;
      height: 34px;
      border-radius: 12px;
      display: grid;
      place-items: center;
      background: rgba(255,255,255,0.18);
      border: 1px solid rgba(255,255,255,0.22);
      font-weight: 900;
    }

    .arch-structure-head .sub {
      color: rgba(255,255,255,0.86);
      font-size: 13px;
      line-height: 1.5;
    }

    .arch-rows {
      padding: 12px 14px;
      display: grid;
      gap: 10px;
    }

    .arch-row {
      display: grid;
      grid-template-columns: 280px 1fr;
      gap: 14px;
      padding: 10px 0;
      border-top: 1px solid #eef2f7;
      min-width: 0;
    }

    .arch-row:first-child { border-top: 0; }

    .arch-left {
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 0;
    }

    .fi {
      width: 30px;
      height: 30px;
      border-radius: 12px;
      display: grid;
      place-items: center;
      background: #eef2ff;
      color: #3b5bfd;
      border: 1px solid rgba(91, 114, 255, 0.22);
      font-weight: 900;
      font-size: 12px;
      flex: 0 0 auto;
    }

    .fi.folder { background: rgba(52, 168, 83, 0.12); color: #0f7a39; border-color: rgba(52, 168, 83, 0.25); }
    .fi.file { background: rgba(66, 133, 244, 0.10); color: #1a56db; border-color: rgba(66, 133, 244, 0.22); }
    .fi.js { background: rgba(91, 114, 255, 0.15); color: #3b5bfd; border-color: rgba(91, 114, 255, 0.25); }
    .fi.css { background: rgba(251, 188, 4, 0.15); color: #a05c00; border-color: rgba(251, 188, 4, 0.28); }

    .arch-path {
      font-family: var(--mono-font);
      font-size: 12px;
      color: #111827;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .arch-right {
      color: var(--color-text-secondary);
      font-size: 13px;
      line-height: 1.55;
      overflow-wrap: anywhere;
      word-break: break-word;
      min-width: 0;
    }

    .arch-side {
      display: flex;
      flex-direction: column;
      gap: 12px;
      min-width: 0;
    }

    .arch-metric {
      border: 1px solid rgba(218, 220, 224, 0.8);
      border-radius: 18px;
      background: #fff;
      padding: 14px;
      box-shadow: 0 1px 2px rgba(0,0,0,0.04);
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 0;
    }

    .arch-metric-ico {
      width: 48px;
      height: 48px;
      border-radius: 18px;
      display: grid;
      place-items: center;
      font-weight: 900;
      border: 1px solid rgba(91, 114, 255, 0.22);
      background: #eef2ff;
      color: #3b5bfd;
      flex: 0 0 auto;
    }

    .arch-metric-ico.css { background: rgba(251, 188, 4, 0.15); color: #a05c00; border-color: rgba(251, 188, 4, 0.28); }
    .arch-metric-ico.muted { background: #f3f4f6; color: #374151; border-color: #e5e7eb; }

    .arch-metric-value {
      font-size: 22px;
      font-weight: 900;
      line-height: 1.05;
    }

    .arch-metric-label {
      color: var(--color-text-secondary);
      font-size: 13px;
      line-height: 1.4;
    }

    @media (max-width: 980px) {
      .arch-layer { grid-column: span 12; }
      .arch-layout { grid-template-columns: 1fr; }
      .arch-row { grid-template-columns: 1fr; }
    }

    @media (max-width: 980px) {
      .two-col { grid-template-columns: 1fr; }
      .col-6, .col-4, .col-8 { grid-column: span 12; }
    }

    .app {
      display: grid;
      grid-template-columns: var(--sidebar-width) 1fr;
      grid-template-rows: var(--topbar-height) 1fr;
      grid-template-areas:
        "topbar topbar"
        "sidebar content";
      min-height: 100vh;
    }

    .topbar {
      grid-area: topbar;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 0 16px;
      border-bottom: 1px solid var(--color-border);
      background: var(--color-surface);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 0;
    }

    .brand-badge {
      width: 30px;
      height: 30px;
      border-radius: 10px;
      background: var(--color-primary);
      box-shadow: var(--shadow-sm);
      display: grid;
      place-items: center;
      color: #fff;
      flex: 0 0 auto;
    }

    .brand-title {
      display: flex;
      flex-direction: column;
      min-width: 0;
    }

    .brand-title strong {
      font-size: 14px;
      line-height: 1.2;
    }

    .brand-title span {
      font-size: 12px;
      color: var(--color-text-secondary);
      line-height: 1.2;
    }

    .topbar-actions {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .pill {
      font-size: 12px;
      color: var(--color-text-secondary);
      padding: 6px 10px;
      background: #fff;
      border: 1px solid var(--color-border);
      border-radius: 999px;
      white-space: nowrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 8px 12px;
      border: 1px solid var(--color-border);
      background: #fff;
      color: var(--color-text-primary);
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition-fast);
      font-weight: 600;
      font-size: 13px;
    }

    .btn:hover { background: var(--color-surface); }
    .btn:active { background: #eef0f2; }
    .btn-primary {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: #fff;
    }
    .btn-primary:hover { background: var(--color-primary-hover); border-color: var(--color-primary-hover); }
    .btn-primary:active { background: var(--color-primary-active); border-color: var(--color-primary-active); }

    .sidebar {
      grid-area: sidebar;
      border-right: 1px solid var(--color-border);
      background: #fff;
      position: sticky;
      top: var(--topbar-height);
      height: calc(100vh - var(--topbar-height));
      overflow: auto;
    }

    .sidebar-inner {
      padding: 14px;
    }

    .search {
      display: flex;
      gap: 8px;
      margin-bottom: 12px;
    }

    .search input {
      width: 100%;
      padding: 10px 10px;
      border-radius: var(--radius-md);
      border: 1px solid var(--color-border);
      outline: none;
      font-size: 13px;
    }

    .search input:focus {
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.18);
    }

    .nav {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .nav a {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 9px 10px;
      border-radius: var(--radius-md);
      color: var(--color-text-primary);
      border: 1px solid transparent;
    }

    .nav a:hover {
      background: var(--color-surface);
      border-color: var(--color-border);
      text-decoration: none;
    }

    .nav a[aria-current="true"] {
      background: rgba(66, 133, 244, 0.12);
      border-color: rgba(66, 133, 244, 0.35);
    }

    .nav .dot {
      width: 9px;
      height: 9px;
      border-radius: 99px;
      background: var(--color-border);
      flex: 0 0 auto;
    }

    .nav a[aria-current="true"] .dot { background: var(--color-primary); }

    .content {
      grid-area: content;
      padding: 24px 22px 64px;
    }

    .content-inner {
      max-width: var(--max-content);
      margin: 0 auto;
    }

    .hero {
      border: 1px solid var(--color-border);
      background: linear-gradient(180deg, rgba(66,133,244,0.10), rgba(248,249,250,1));
      border-radius: var(--radius-lg);
      padding: 18px 18px;
      box-shadow: var(--shadow-sm);
    }

    /* Anchor scrolling (account for sticky topbar) */
    .hero,
    .section {
      scroll-margin-top: calc(var(--topbar-height) + 12px);
    }

    .hero h1 {
      margin: 0;
      font-size: 22px;
      letter-spacing: -0.2px;
    }

    .hero p {
      margin: 10px 0 0;
      color: var(--color-text-secondary);
      line-height: 1.55;
    }

    .section {
      margin-top: 12px;
      padding-top: 8px;
      border-top: 1px solid var(--color-border);
    }

    .section h2 {
      margin: 0 0 10px;
      font-size: 18px;
    }

    .muted { color: var(--color-text-secondary); }

    .callout {
      margin-top: 12px;
      padding: 12px 12px;
      border-radius: var(--radius-md);
      border: 1px solid var(--color-border);
      background: #fff;
    }

    .callout.info {
      border-color: rgba(66, 133, 244, 0.35);
      background: rgba(66, 133, 244, 0.06);
    }

    .callout.warn {
      border-color: rgba(251, 188, 4, 0.55);
      background: rgba(251, 188, 4, 0.10);
    }

    .callout.success {
      border-color: rgba(52, 168, 83, 0.45);
      background: rgba(52, 168, 83, 0.08);
    }

    .kbd {
      font-family: var(--mono-font);
      font-size: 12px;
      border: 1px solid var(--color-border);
      border-bottom-width: 2px;
      border-radius: 6px;
      padding: 1px 6px;
      background: #fff;
    }

    .footer {
      margin-top: 30px;
      padding-top: 14px;
      border-top: 1px solid var(--color-border);
      color: var(--color-text-secondary);
      font-size: 12px;
    }

    @media (max-width: 980px) {
      .app {
        grid-template-columns: 1fr;
        grid-template-rows: var(--topbar-height) auto 1fr;
        grid-template-areas:
          "topbar"
          "sidebar"
          "content";
      }
      .sidebar {
        position: relative;
        top: 0;
        height: auto;
        border-right: none;
        border-bottom: 1px solid var(--color-border);
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <div class="brand-badge" aria-hidden="true">
          <!-- Minimal "TUE" glyph -->
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M9 7v10a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V7" stroke="currentColor" stroke-width="2.6" stroke-linecap="round"/>
            <path d="M6 6h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="brand-title">
          <strong>Tab URL Extractor</strong>
          <span>TUE-Documentation v1</span>
        </div>
      </div>

      <!-- topbar actions removidas por design -->
    </header>

    <aside class="sidebar">
      <div class="sidebar-inner">
        <div class="search">
          <input id="search" type="search" placeholder="Buscar na documenta√ß√£o‚Ä¶" autocomplete="off" />
        </div>

        <nav class="nav" id="nav">
          <a href="#intro" aria-current="true"><span class="dot"></span>Introdu√ß√£o</a>
          <a href="#overview"><span class="dot"></span>Overview</a>
          <a href="#quick-start"><span class="dot"></span>Quick Start</a>
          <a href="#features"><span class="dot"></span>Funcionalidades</a>
          <a href="#requirements"><span class="dot"></span>Requisitos</a>
          <a href="#future"><span class="dot"></span>Futuros</a>
          <a href="#use-cases"><span class="dot"></span>Casos de Uso</a>
          <a href="#architecture"><span class="dot"></span>Arquitetura</a>
          <a href="#technologies"><span class="dot"></span>Tecnologias</a>
          <a href="#development"><span class="dot"></span>Desenvolvimento</a>
        </nav>

        <div class="callout info" style="margin-top: 14px;">
          <div style="font-weight: 700; margin-bottom: 4px;">Como usar esta p√°gina</div>
          <div class="muted">Ela √© uma vis√£o geral do projeto, pronta para apresenta√ß√£o. Se voc√™ quiser, os documentos em <span class="kbd">docs/</span> trazem o detalhamento t√©cnico completo.</div>
        </div>
      </div>
    </aside>

    <main class="content">
      <div class="content-inner">
        <section id="intro" class="hero">
          <h1>Tab URL Extractor</h1>
          <p>
            Uma extens√£o Chrome (Manifest V3) para <strong>coletar URLs das abas</strong>, <strong>normalizar</strong>, <strong>deduplicar</strong>,
            <strong>agrupar por dom√≠nio</strong> e <strong>exportar</strong> em formatos amig√°veis para automa√ß√£o.
          </p>
          <div class="badges" aria-label="Destaques">
            <div class="badge"><strong>MV3</strong> Service Worker (module)</div>
            <div class="badge"><strong>Export</strong> json / txt / txt-simple</div>
            <div class="badge"><strong>Estado</strong> tempor√°rio em mem√≥ria</div>
            <div class="badge"><strong>Privacidade</strong> sem nuvem</div>
          </div>

          <div class="grid" style="margin-top: 14px;">
            <div class="card col-4">
              <div class="card-top">
                <div class="i-badge i-cyan">üîé</div>
                <div>
                  <h3>Por que existe</h3>
                  <p>Transforma ‚Äúum monte de abas abertas‚Äù em um dataset export√°vel e previs√≠vel para pipelines, scripts e apps.</p>
                </div>
              </div>
              <div class="accent-note"><strong>Destaque:</strong> √© uma ferramenta de extra√ß√£o/estrutura√ß√£o ‚Äî n√£o interpreta conte√∫do.</div>
            </div>
            <div class="card col-4">
              <div class="card-top">
                <div class="i-badge i-pink">‚õî</div>
                <div>
                  <h3>O que ele n√£o faz</h3>
                  <p>N√£o classifica conte√∫do, n√£o faz scraping, n√£o sincroniza dados e n√£o mant√©m hist√≥rico (estado √© tempor√°rio).</p>
                </div>
              </div>
              <div class="req-code" style="margin-top: 10px;"><strong>Princ√≠pio</strong>
Mesmo input ‚Üí mesma sa√≠da
Sem rede/terceiros</div>
            </div>
            <div class="card col-4">
              <div class="card-top">
                <div class="i-badge">‚ö°</div>
                <div>
                  <h3>Como usar</h3>
                  <p>Analisar ‚Üí revisar matrizes ‚Üí exportar tudo ou por dom√≠nio (json/txt/txt-simple).</p>
                </div>
              </div>
              <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
popup/popup.js
background/service-worker.js
core/matrix-builder.js
core/exporter.js</div>
            </div>

            <div class="card col-12">
              <div class="card-top">
                <div class="i-badge i-purple">üß©</div>
                <div>
                  <h3>Pontos principais do c√≥digo</h3>
                  <p>Onde cada parte do fluxo mora: UI ‚Üí orquestra√ß√£o ‚Üí core ‚Üí infra (downloads).</p>
                </div>
              </div>
              <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
manifest.json
popup/popup.js
background/service-worker.js
infrastructure/tab-collector.js
core/url-processor.js
core/matrix-builder.js
core/exporter.js
infrastructure/download-manager.js
utils/validators.js
utils/logger.js</div>
            </div>
          </div>
        </section>

        <section id="overview" class="section">
          <h2 class="sr-only">Overview</h2>

          <div class="section-panel" aria-label="Overview">
            <div class="section-head">
              <h3>Overview</h3>
              <span class="chip">Vis√£o Geral</span>
            </div>
            <p class="section-subtitle">
              Tab URL Extractor (TUE) √© uma extens√£o Chrome (MV3) focada em uma tarefa: <strong>extrair URLs das abas abertas</strong>,
              aplicar um processamento t√©cnico consistente (normaliza√ß√£o + deduplica√ß√£o) e entregar um export pronto para ser consumido
              por scripts e aplica√ß√µes.
            </p>

            <div class="grid">
              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-cyan">üßæ</div>
                  <div>
                    <h3>O que faz</h3>
                    <p>Executa uma coleta de URLs, processa tecnicamente e entrega uma URL-Matriz por dom√≠nio pronta para export.</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
infrastructure/tab-collector.js
core/url-processor.js
core/matrix-builder.js</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-green">üõ°Ô∏è</div>
                  <div>
                    <h3>Seguran√ßa & Privacidade</h3>
                    <p>Processamento local no navegador; sem envio para rede. A√ß√µes s√£o iniciadas pelo usu√°rio e validadas antes do export.</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
manifest.json
utils/validators.js
background/service-worker.js</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-purple">üèóÔ∏è</div>
                  <div>
                    <h3>Arquitetura</h3>
                    <p>Camadas claras: <code>core</code> (l√≥gica), <code>infrastructure</code> (Chrome APIs), <code>background</code> (fluxo) e <code>popup</code> (UI).</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
core/*
infrastructure/*
background/service-worker.js
popup/popup.js</div>
              </div>
            </div>

            <div class="grid" style="margin-top: 12px;">
              <div class="card col-6">
                <div class="card-top">
                  <div class="i-badge">üéõÔ∏è</div>
                  <div>
                    <h3>Principais a√ß√µes</h3>
                    <p>Fluxo minimalista, com estado tempor√°rio entre an√°lise e exporta√ß√£o.</p>
                  </div>
                </div>
                <ul style="margin: 10px 0 0; color: var(--color-text-secondary); line-height: 1.55; font-size: 13px;">
                  <li><strong>Analisar</strong>: coleta abas e monta URL-Matrizes.</li>
                  <li><strong>Exportar tudo</strong>: gera arquivo com todas as matrizes.</li>
                  <li><strong>Exportar por dom√≠nio</strong>: gera arquivo apenas do grupo escolhido.</li>
                  <li><strong>Nova an√°lise</strong>: reinicia o estado e reprocessa as abas.</li>
                </ul>
                <div class="accent-note"><strong>Destaque:</strong> export depende do resultado da √∫ltima an√°lise em mem√≥ria.</div>
              </div>

              <div class="card col-6">
                <div class="card-top">
                  <div class="i-badge i-orange">üöÄ</div>
                  <div>
                    <h3>Como usar (30s)</h3>
                    <p>Do objetivo ao arquivo gerado, em poucas etapas.</p>
                  </div>
                </div>
                <ol style="margin: 10px 0 0; color: var(--color-text-secondary); line-height: 1.55; font-size: 13px;">
                  <li>Abra o popup da extens√£o.</li>
                  <li>Clique em <strong>Analisar</strong>.</li>
                  <li>Revise os dom√≠nios e contagens.</li>
                  <li>Escolha o formato (<code>json</code> / <code>txt</code> / <code>txt-simple</code>) e exporte.</li>
                </ol>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
popup/popup.js
core/exporter.js
infrastructure/download-manager.js</div>
              </div>
            </div>

            <div class="mini-title">Fluxo de alto n√≠vel</div>
            <div class="flow-grid" aria-label="Fluxo de alto n√≠vel">
              <div class="flow-step"><div class="n">1</div><h4>Coletar</h4><p>Busca abas via Chrome Tabs API e extrai URLs v√°lidas.</p></div>
              <div class="flow-step"><div class="n">2</div><h4>Processar</h4><p>Normaliza e valida URLs; remove duplicatas exatas.</p></div>
              <div class="flow-step"><div class="n">3</div><h4>Agrupar</h4><p>Constr√≥i URL-Matrizes por dom√≠nio para revis√£o e export seletivo.</p></div>
              <div class="flow-step"><div class="n">4</div><h4>Exportar</h4><p>Gera payload e inicia download via <code>chrome.downloads</code>.</p></div>
            </div>

            <div class="req-code" style="margin-top: 12px;"><strong>Refer√™ncias</strong>
infrastructure/tab-collector.js
core/url-processor.js
core/matrix-builder.js
core/exporter.js
infrastructure/download-manager.js
background/service-worker.js</div>
          </div>
        </section>

        <section id="quick-start" class="section">
          <h2 class="sr-only">Quick Start</h2>

          <div class="section-panel" aria-label="Quick Start">
            <div class="section-head">
              <h3>Quick Start</h3>
              <span class="chip">Instala√ß√£o & Uso</span>
            </div>
            <p class="section-subtitle">Primeiros passos para rodar a extens√£o no navegador (modo desenvolvedor) e gerar seu primeiro export.</p>

            <div class="two-col">
              <div class="card">
                <div class="card-top">
                  <div class="i-badge i-cyan">üß©</div>
                  <div>
                    <h3>1) Instalar (modo desenvolvedor)</h3>
                    <p>Carregue a pasta do projeto como uma extens√£o sem compacta√ß√£o.</p>
                  </div>
                </div>
                <ol style="margin: 10px 0 0; color: var(--color-text-secondary); line-height: 1.55; font-size: 13px;">
                  <li>Abra <code>chrome://extensions</code> (ou <code>edge://extensions</code>).</li>
                  <li>Ative <strong>Modo do desenvolvedor</strong>.</li>
                  <li>Clique em <strong>Carregar sem compacta√ß√£o</strong>.</li>
                  <li>Selecione a pasta raiz do projeto (onde est√° o <code>manifest.json</code>).</li>
                </ol>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
manifest.json
popup/popup.html
background/service-worker.js</div>
              </div>

              <div class="card">
                <div class="card-top">
                  <div class="i-badge i-orange">‚ö°</div>
                  <div>
                    <h3>2) Usar (primeiro export)</h3>
                    <p>Analise as abas, revise os grupos e exporte no formato desejado.</p>
                  </div>
                </div>
                <ol style="margin: 10px 0 0; color: var(--color-text-secondary); line-height: 1.55; font-size: 13px;">
                  <li>Abra o popup da extens√£o.</li>
                  <li>Clique em <strong>Analisar</strong> para gerar as URL-Matrizes.</li>
                  <li>Exporte <strong>tudo</strong> ou <strong>por dom√≠nio</strong>.</li>
                  <li>Escolha <code>json</code>, <code>txt</code> ou <code>txt-simple</code>.</li>
                </ol>
                <div class="callout warn">
                  <div style="font-weight: 700; margin-bottom: 4px;">Importante</div>
                  <div class="muted">Como o estado √© tempor√°rio em mem√≥ria, exporta√ß√µes dependem de uma an√°lise pr√©via.</div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
popup/popup.js
core/matrix-builder.js
core/exporter.js
infrastructure/download-manager.js</div>
              </div>
            </div>

            <div class="grid" style="margin-top: 12px;">
              <div class="card col-12">
                <div class="card-top">
                  <div class="i-badge i-green">‚úÖ</div>
                  <div>
                    <h3>Checklist r√°pido</h3>
                    <p>Valide o fluxo ponta a ponta em 60s.</p>
                  </div>
                </div>
                <ul style="margin: 10px 0 0; color: var(--color-text-secondary); line-height: 1.55; font-size: 13px;">
                  <li>Abra 10+ abas em dom√≠nios diferentes e confirme o agrupamento.</li>
                  <li>Duplique uma URL e confirme a deduplica√ß√£o ap√≥s normaliza√ß√£o.</li>
                  <li>Gere export em <code>txt-simple</code> e verifique ‚Äúuma URL por linha‚Äù.</li>
                </ul>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
core/url-processor.js
core/matrix-builder.js
core/exporter.js</div>
              </div>
            </div>
          </div>
        </section>

        <section id="features" class="section">
          <h2 class="sr-only">Funcionalidades</h2>

          <div class="section-panel" aria-label="Funcionalidades">
            <div class="section-head">
              <h3>Funcionalidades</h3>
              <span class="chip">O que j√° existe</span>
            </div>
            <p class="section-subtitle">Guia pr√°tico do que a extens√£o faz e como usar.</p>

            <div class="grid">
              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-cyan">üì•</div>
                  <div>
                    <h3>Coleta de URLs</h3>
                    <p>Extrai URLs das abas abertas (janela atual ou todas), filtrando entradas inv√°lidas/restritas.</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
infrastructure/tab-collector.js
background/service-worker.js</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge">üßπ</div>
                  <div>
                    <h3>Normaliza√ß√£o + valida√ß√£o</h3>
                    <p>Reduz ru√≠do (ex.: par√¢metros), aplica regras de consist√™ncia e valida antes de agrupar/exportar.</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
core/url-processor.js
utils/validators.js</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-green">‚úÖ</div>
                  <div>
                    <h3>Deduplica√ß√£o exata</h3>
                    <p>Remove duplicatas id√™nticas ap√≥s normaliza√ß√£o, mantendo sa√≠da enxuta e previs√≠vel.</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
core/url-processor.js</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-purple">üß±</div>
                  <div>
                    <h3>URL-Matriz</h3>
                    <p>Agrupa por dom√≠nio e produz estrutura est√°vel para UI e export (com contagens por grupo).</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
core/matrix-builder.js</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-orange">üì§</div>
                  <div>
                    <h3>Exporta√ß√£o (json/txt/txt-simple)</h3>
                    <p>Gera arquivos para inspe√ß√£o humana e automa√ß√£o (uma URL por linha no <code>txt-simple</code>).</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
core/exporter.js
utils/constants.js</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-green">‚¨áÔ∏è</div>
                  <div>
                    <h3>Download</h3>
                    <p>Inicia o download via <code>chrome.downloads</code> com nome sugerido e MIME adequado ao formato.</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
infrastructure/download-manager.js
background/service-worker.js</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-pink">üß†</div>
                  <div>
                    <h3>Estado tempor√°rio em mem√≥ria</h3>
                    <p>Resultado da an√°lise √© mantido apenas durante a sess√£o (entre analisar e exportar).</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
background/service-worker.js</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge">üßæ</div>
                  <div>
                    <h3>Observabilidade (logs)</h3>
                    <p>Logs estruturados ajudam a depurar valida√ß√µes, erros de export e respostas do Service Worker.</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
utils/logger.js
background/service-worker.js</div>
              </div>
            </div>
          </div>
        </section>

        <section id="requirements" class="section">
          <h2 class="sr-only">Requisitos</h2>

          <div class="section-panel" aria-label="Requisitos Funcionais">
            <div class="section-head">
              <h3>Requisitos Funcionais</h3>
              <span class="chip">Escopo Atual</span>
            </div>
            <p class="section-subtitle">Especifica√ß√µes funcionais implementadas, mapeadas para os m√≥dulos respons√°veis.</p>

            <div class="req-grid">
              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RF01</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Coleta de abas (Scan)</h4>
                <p>Coleta URLs de abas abertas (janela atual ou todas as janelas), ignorando URLs inacess√≠veis/restritas.</p>
                <div class="req-code"><strong>Orquestra√ß√£o</strong>\nbackground/service-worker.js\n\n<strong>Infra</strong>\ninfrastructure/tab-collector.js</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RF02</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Normaliza√ß√£o e valida√ß√£o</h4>
                <p>Normaliza URLs para consist√™ncia e valida entradas para reduzir erros no processamento e export.</p>
                <div class="req-code"><strong>Core</strong>\ncore/url-processor.js\n\n<strong>Utils</strong>\nutils/validators.js</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RF03</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Deduplica√ß√£o exata</h4>
                <p>Remove duplicatas exatas ap√≥s normaliza√ß√£o, mantendo o conjunto final enxuto e previs√≠vel.</p>
                <div class="req-code"><strong>Core</strong>\ncore/url-processor.js</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RF04</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Agrupamento por dom√≠nio (URL-Matriz)</h4>
                <p>Constr√≥i matrizes por dom√≠nio para permitir export total ou seletivo, com contagens por grupo.</p>
                <div class="req-code"><strong>Core</strong>\ncore/matrix-builder.js</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RF05</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Exporta√ß√£o (json / txt / txt-simple)</h4>
                <p>Gera arquivos em formatos pensados para automa√ß√£o e inspe√ß√£o humana, com sa√≠da consistente.</p>
                <div class="req-code"><strong>Core</strong>\ncore/exporter.js\n\n<strong>Utils</strong>\nutils/constants.js</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RF06</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Download do arquivo exportado</h4>
                <p>Dispara o download do conte√∫do exportado via <code>chrome.downloads</code> com nome sugerido.</p>
                <div class="req-code"><strong>Orquestra√ß√£o</strong>\nbackground/service-worker.js\n\n<strong>Infra</strong>\ninfrastructure/download-manager.js</div>
              </div>
            </div>
          </div>

          <div class="section-panel" style="margin-top: 14px;" aria-label="Requisitos N√£o Funcionais">
            <div class="section-head">
              <h3>Requisitos N√£o Funcionais</h3>
              <span class="chip">Qualidade</span>
            </div>
            <p class="section-subtitle">Requisitos de qualidade, seguran√ßa, compatibilidade e manutenibilidade do projeto.</p>

            <div class="req-grid">
              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RNF01</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Compatibilidade (Manifest V3)</h4>
                <p>Arquitetura e execu√ß√£o compat√≠veis com MV3: Service Worker como m√≥dulo e mensagens runtime.</p>
                <div class="req-code"><strong>Config</strong>\nmanifest.json\n\n<strong>SW</strong>\nbackground/service-worker.js</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RNF02</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Privacidade por padr√£o</h4>
                <p>N√£o envia dados para rede/terceiros: processamento e export acontecem localmente no navegador.</p>
                <div class="req-code"><strong>Design</strong>\nSem integra√ß√£o de rede\nSem servi√ßos externos</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RNF03</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Estado tempor√°rio e previs√≠vel</h4>
                <p>Mant√©m matrizes somente em mem√≥ria entre ‚ÄúAnalisar‚Äù e ‚ÄúExportar‚Äù (sem persist√™ncia/hist√≥rico).</p>
                <div class="req-code"><strong>SW</strong>\nbackground/service-worker.js</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RNF04</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Manutenibilidade e separa√ß√£o de camadas</h4>
                <p>Core isolado de UI e APIs do Chrome, facilitando evolu√ß√£o e testes unit√°rios.</p>
                <div class="req-code"><strong>Core</strong>\ncore/*\n\n<strong>Infra</strong>\ninfrastructure/*\n\n<strong>UI</strong>\npopup/*</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RNF05</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Seguran√ßa e valida√ß√µes</h4>
                <p>Valida entradas e formatos de export para reduzir erros e evitar comportamentos inesperados.</p>
                <div class="req-code"><strong>Utils</strong>\nutils/validators.js\n\n<strong>Core</strong>\ncore/exporter.js</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">RNF06</span>
                  <span class="chip green">Implementado</span>
                </div>
                <h4>Observabilidade (logs)</h4>
                <p>Logging estruturado para facilitar diagn√≥stico durante desenvolvimento e troubleshooting.</p>
                <div class="req-code"><strong>Utils</strong>\nutils/logger.js</div>
              </div>
            </div>
          </div>
        </section>

        <section id="future" class="section">
          <h2 class="sr-only">Futuros</h2>

          <div class="section-panel" aria-label="Requisitos Funcionais Futuros">
            <div class="section-head">
              <h3>Req. Funcionais Futuros</h3>
              <span class="chip">Roadmap</span>
            </div>
            <p class="section-subtitle">Itens planejados para vers√µes futuras (prospecta√ß√£o). Mant√©m o foco: extrair e estruturar URLs, sem virar um gerenciador de abas.</p>

            <div class="req-grid">
              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">v1.2.0</span>
                  <span class="chip orange">Planejado</span>
                </div>
                <h4>Novas fontes de URLs</h4>
                <p>Adicionar coleta opcional via Bookmarks e Hist√≥rico para montar matrizes al√©m das abas abertas.</p>
                <div class="req-code"><strong>√Årea</strong>\nInfrastructure + Core\n\n<strong>Ideia</strong>\nNovos coletores com mesma interface</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">v1.3.0</span>
                  <span class="chip orange">Planejado</span>
                </div>
                <h4>Export mais flex√≠vel</h4>
                <p>CSV e op√ß√µes de export (ordenar, incluir/excluir colunas, presets para automa√ß√£o).</p>
                <div class="req-code"><strong>√Årea</strong>\ncore/exporter.js\n\n<strong>Nota</strong>\nSem depend√™ncias externas</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">v1.4.0</span>
                  <span class="chip orange">Planejado</span>
                </div>
                <h4>Filtros e sele√ß√£o na UI</h4>
                <p>Busca/filtros simples por dom√≠nio e sele√ß√£o r√°pida (ex.: incluir/excluir dom√≠nios).</p>
                <div class="req-code"><strong>√Årea</strong>\npopup/popup.js\n\n<strong>Nota</strong>\nMant√©m UI minimalista</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">v1.4.1</span>
                  <span class="chip orange">Planejado</span>
                </div>
                <h4>Coleta por janelas espec√≠ficas</h4>
                <p>Permitir escolher uma janela (ou m√∫ltiplas) para limitar o scan, em vez de sempre usar a janela atual/todas.</p>
                <div class="req-code"><strong>√Årea</strong>\npopup/popup.js\nbackground/service-worker.js\ninfrastructure/tab-collector.js\n\n<strong>Nota</strong>\nMant√©m o foco em extra√ß√£o: s√≥ muda o escopo do dataset</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip">v1.5.0</span>
                  <span class="chip orange">Planejado</span>
                </div>
                <h4>Crit√©rios adicionais de agrupamento</h4>
                <p>Agrupar por TLD, prefixos de path e regras configur√°veis (sem interpreta√ß√£o sem√¢ntica).</p>
                <div class="req-code"><strong>√Årea</strong>\ncore/matrix-builder.js\n\n<strong>Nota</strong>\nConfig simples e previs√≠vel</div>
              </div>

              <div class="req-card">
                <div class="req-tags">
                  <span class="chip gray">Tech</span>
                  <span class="chip orange">Planejado</span>
                </div>
                <h4>Qualidade (tests + CI)</h4>
                <p>Testes automatizados do core (normaliza√ß√£o/dedup/export) e pipeline de valida√ß√£o em CI.</p>
                <div class="req-code"><strong>√Årea</strong>\nCore + docs/TEST_EXAMPLES.md\n\n<strong>Ideia</strong>\nIntroduzir testes sem mudar arquitetura</div>
              </div>
            </div>
          </div>
        </section>

        <section id="use-cases" class="section">
          <h2 class="sr-only">Casos de Uso</h2>

          <div class="section-panel" aria-label="Casos de Uso">
            <div class="section-head">
              <h3>Casos de Uso</h3>
              <span class="chip">Cen√°rios</span>
            </div>
            <p class="section-subtitle">Cen√°rios que descrevem como o usu√°rio executa tarefas, do objetivo ao resultado esperado.</p>

            <div class="uc-grid">
              <div class="uc-card">
                <div class="req-tags">
                  <span class="chip">UC01</span>
                  <span class="chip green">Definido</span>
                </div>
                <h4>Analisar abas (gerar matrizes)</h4>
                <p class="uc-kv"><strong>Objetivo:</strong> transformar abas abertas em URL-Matrizes prontas para exporta√ß√£o.</p>
                <p class="uc-kv"><strong>Atores:</strong> Usu√°rio</p>
                <p class="uc-kv"><strong>Pr√©-condi√ß√µes:</strong> extens√£o instalada e popup acess√≠vel.</p>
                <p class="uc-kv"><strong>P√≥s-condi√ß√µes:</strong> matrizes exibidas (ou estado vazio/erro com mensagem).</p>
                <div class="req-code"><strong>Refer√™ncias</strong>
popup/popup.js
background/service-worker.js
infrastructure/tab-collector.js
core/url-processor.js
core/matrix-builder.js</div>
              </div>

              <div class="uc-card">
                <div class="req-tags">
                  <span class="chip">UC02</span>
                  <span class="chip green">Definido</span>
                </div>
                <h4>Exportar tudo</h4>
                <p class="uc-kv"><strong>Objetivo:</strong> exportar todas as matrizes/URLs em um √∫nico arquivo.</p>
                <p class="uc-kv"><strong>Atores:</strong> Usu√°rio</p>
                <p class="uc-kv"><strong>Pr√©-condi√ß√µes:</strong> an√°lise conclu√≠da com matrizes em mem√≥ria.</p>
                <p class="uc-kv"><strong>P√≥s-condi√ß√µes:</strong> download iniciado no formato escolhido.</p>
                <div class="uc-highlight"><strong>Destaque:</strong> o export √© uma a√ß√£o expl√≠cita do usu√°rio e depende do estado da √∫ltima an√°lise.</div>
                <div class="req-code"><strong>Refer√™ncias</strong>
popup/popup.js
background/service-worker.js
core/exporter.js
infrastructure/download-manager.js</div>
              </div>

              <div class="uc-card">
                <div class="req-tags">
                  <span class="chip">UC03</span>
                  <span class="chip green">Definido</span>
                </div>
                <h4>Exportar por dom√≠nio</h4>
                <p class="uc-kv"><strong>Objetivo:</strong> exportar apenas uma URL-Matriz espec√≠fica (um dom√≠nio).</p>
                <p class="uc-kv"><strong>Atores:</strong> Usu√°rio</p>
                <p class="uc-kv"><strong>Pr√©-condi√ß√µes:</strong> an√°lise conclu√≠da e dom√≠nio dispon√≠vel na lista.</p>
                <p class="uc-kv"><strong>P√≥s-condi√ß√µes:</strong> download iniciado contendo somente aquele grupo.</p>
                <div class="req-code"><strong>Refer√™ncias</strong>
popup/popup.js
background/service-worker.js
core/exporter.js
core/matrix-builder.js</div>
              </div>

              <div class="uc-card">
                <div class="req-tags">
                  <span class="chip">UC04</span>
                  <span class="chip green">Definido</span>
                </div>
                <h4>Nova an√°lise (reset)</h4>
                <p class="uc-kv"><strong>Objetivo:</strong> reiniciar o fluxo para refletir mudan√ßas nas abas/janelas.</p>
                <p class="uc-kv"><strong>Atores:</strong> Usu√°rio</p>
                <p class="uc-kv"><strong>Pr√©-condi√ß√µes:</strong> usu√°rio est√° na tela de resultados ou com estado carregado.</p>
                <p class="uc-kv"><strong>P√≥s-condi√ß√µes:</strong> estado do popup √© resetado e uma nova an√°lise pode ser executada.</p>
                <div class="req-code"><strong>Refer√™ncias</strong>
popup/popup.js
background/service-worker.js</div>
              </div>
            </div>
          </div>

          <div class="section-panel" style="margin-top: 14px;" aria-label="Diagramas de Casos de Uso">
            <div class="section-head">
              <h3>Diagramas de Casos de Uso</h3>
              <span class="chip">Fluxo</span>
            </div>
            <p class="section-subtitle">Fluxos em cards (sem imagens), no formato passo a passo.</p>

            <div class="uc-diagram">
              <div class="req-tags">
                <span class="chip">UC01</span>
                <span class="chip gray">Scan</span>
              </div>
              <div class="uc-diagram-title">UC01 ‚Äî Analisar abas</div>

              <div class="steps">
                <div class="step"><div class="n">1</div><h5>Abrir popup</h5><p>Usu√°rio abre a extens√£o e visualiza o estado atual.</p></div>
                <div class="step"><div class="n">2</div><h5>Iniciar an√°lise</h5><p>Usu√°rio aciona ‚ÄúAnalisar‚Äù para coletar URLs das abas.</p></div>
                <div class="step"><div class="n">3</div><h5>Coletar + processar</h5><p>Coleta abas, aplica valida√ß√µes, normaliza e deduplica URLs.</p></div>
                <div class="step"><div class="n">4</div><h5>Agrupar + exibir</h5><p>Constr√≥i URL-Matrizes por dom√≠nio e renderiza o resultado no popup.</p></div>
              </div>

              <div class="info-row">
                <div class="info"><h5>Pr√©-condi√ß√µes</h5><p>Extens√£o instalada e permiss√µes concedidas; popup acess√≠vel.</p></div>
                <div class="info"><h5>P√≥s-condi√ß√µes</h5><p>Lista de matrizes exibida (ou estado vazio/erro com mensagem).</p></div>
                <div class="info"><h5>Fluxo alternativo</h5><p>Sem URLs v√°lidas: exibe estado vazio. Em falha: exibe erro e permite tentar novamente.</p></div>
              </div>

              <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
popup/popup.js
background/service-worker.js
infrastructure/tab-collector.js
core/url-processor.js
core/matrix-builder.js</div>
            </div>

            <div class="uc-diagram">
              <div class="req-tags">
                <span class="chip">UC02</span>
                <span class="chip gray">Export</span>
              </div>
              <div class="uc-diagram-title">UC02 ‚Äî Exportar tudo</div>

              <div class="steps">
                <div class="step"><div class="n">1</div><h5>Escolher formato</h5><p>Usu√°rio seleciona o formato (json/txt/txt-simple).</p></div>
                <div class="step"><div class="n">2</div><h5>Gerar payload</h5><p>Core gera o conte√∫do export√°vel de forma consistente.</p></div>
                <div class="step"><div class="n">3</div><h5>Iniciar download</h5><p>Infra dispara o download via <code>chrome.downloads</code>.</p></div>
                <div class="step"><div class="n">4</div><h5>Confirmar resultado</h5><p>Usu√°rio recebe o arquivo; pode repetir com outro formato se desejar.</p></div>
              </div>

              <div class="info-row">
                <div class="info"><h5>Pr√©-condi√ß√µes</h5><p>Uma an√°lise foi executada e h√° matrizes em mem√≥ria para export.</p></div>
                <div class="info"><h5>P√≥s-condi√ß√µes</h5><p>Download iniciado com nome sugerido e mime compat√≠vel com o formato.</p></div>
                <div class="info"><h5>Fluxo alternativo</h5><p>Sem an√°lise: UI solicita executar ‚ÄúAnalisar‚Äù antes. Em erro de download: exibe mensagem e permite repetir.</p></div>
              </div>

              <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
popup/popup.js
background/service-worker.js
core/exporter.js
infrastructure/download-manager.js
utils/constants.js</div>
            </div>

            <div class="uc-diagram">
              <div class="req-tags">
                <span class="chip">UC03</span>
                <span class="chip gray">Export</span>
              </div>
              <div class="uc-diagram-title">UC03 ‚Äî Exportar por dom√≠nio</div>

              <div class="steps">
                <div class="step"><div class="n">1</div><h5>Selecionar matriz</h5><p>Usu√°rio escolhe um dom√≠nio espec√≠fico na lista.</p></div>
                <div class="step"><div class="n">2</div><h5>Gerar subset</h5><p>Export limita o payload ao grupo selecionado.</p></div>
                <div class="step"><div class="n">3</div><h5>Iniciar download</h5><p>Infra inicia o download do arquivo do grupo.</p></div>
                <div class="step"><div class="n">4</div><h5>Repetir por grupos</h5><p>Usu√°rio pode exportar outros dom√≠nios sem refazer a an√°lise.</p></div>
              </div>

              <div class="info-row">
                <div class="info"><h5>Pr√©-condi√ß√µes</h5><p>An√°lise conclu√≠da; dom√≠nio dispon√≠vel na lista de matrizes.</p></div>
                <div class="info"><h5>P√≥s-condi√ß√µes</h5><p>Arquivo exportado cont√©m apenas as URLs do dom√≠nio selecionado.</p></div>
                <div class="info"><h5>Fluxo alternativo</h5><p>Dom√≠nio vazio: export desabilitado/mostra aviso. Em erro: exibe mensagem e mant√©m a lista.</p></div>
              </div>

              <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
popup/popup.js
background/service-worker.js
core/exporter.js
core/matrix-builder.js</div>
            </div>

            <div class="uc-diagram">
              <div class="req-tags">
                <span class="chip">UC04</span>
                <span class="chip gray">Reset</span>
              </div>
              <div class="uc-diagram-title">UC04 ‚Äî Nova an√°lise (reset)</div>

              <div class="steps">
                <div class="step"><div class="n">1</div><h5>Abrir resultados</h5><p>Usu√°rio est√° na tela de resultados ou com estado carregado.</p></div>
                <div class="step"><div class="n">2</div><h5>Acionar reset</h5><p>Usu√°rio clica em ‚ÄúNova an√°lise‚Äù.</p></div>
                <div class="step"><div class="n">3</div><h5>Limpar estado UI</h5><p>Popup volta ao estado inicial e limpa indicadores do resultado anterior.</p></div>
                <div class="step"><div class="n">4</div><h5>Reanalisar</h5><p>Usu√°rio executa uma nova an√°lise para refletir mudan√ßas nas abas.</p></div>
              </div>

              <div class="info-row">
                <div class="info"><h5>Pr√©-condi√ß√µes</h5><p>Usu√°rio tem a extens√£o aberta; deseja atualizar o dataset.</p></div>
                <div class="info"><h5>P√≥s-condi√ß√µes</h5><p>Fluxo reiniciado; uma nova an√°lise pode ser executada imediatamente.</p></div>
                <div class="info"><h5>Fluxo alternativo</h5><p>Se o popup j√° est√° no estado inicial, o reset apenas mant√©m o estado e orienta a analisar.</p></div>
              </div>

              <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
popup/popup.js
background/service-worker.js</div>
            </div>
          </div>
        </section>

        <section id="architecture" class="section">
          <h2 class="sr-only">Arquitetura</h2>

          <div class="section-panel" aria-label="Arquitetura">
            <div class="section-head">
              <h3>Arquitetura e Estrutura Completa</h3>
              <span class="chip">Clean Architecture</span>
            </div>
            <p class="section-subtitle">Clean Architecture com depend√™ncias unidirecionais (camadas externas dependem das internas). Separa√ß√£o clara entre core (puro), orquestra√ß√£o (MV3) e integra√ß√µes com Chrome APIs.</p>

            <div class="arch-layer-grid" role="list" aria-label="Camadas">
              <div class="arch-layer" role="listitem">
                <h4>Core</h4>
                <p>L√≥gica de neg√≥cio pura (<span class="arch-pill">core/</span>)</p>
              </div>
              <div class="arch-layer" role="listitem">
                <h4>Browser</h4>
                <p>Integra√ß√£o com Chrome APIs (<span class="arch-pill">infrastructure/</span>)</p>
              </div>
              <div class="arch-layer" role="listitem">
                <h4>Orquestra√ß√£o</h4>
                <p>Coordena√ß√£o de fluxos MV3 (<span class="arch-pill">background/</span>)</p>
              </div>
              <div class="arch-layer" role="listitem">
                <h4>UI</h4>
                <p>Interface do usu√°rio (<span class="arch-pill">popup/</span>)</p>
              </div>
            </div>

            <div class="arch-layout">
              <div class="arch-structure" aria-label="Estrutura do Projeto">
                <div class="arch-structure-head">
                  <div class="arch-structure-title"><span class="ico">üìÅ</span>Estrutura do Projeto</div>
                  <div class="sub">Somente o que √© essencial para a extens√£o funcionar (runtime).</div>
                </div>

                <div class="arch-rows">
                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi file">üìÑ</span>
                      <div class="arch-path">manifest.json</div>
                    </div>
                    <div class="arch-right">Manifest V3: define permiss√µes, action/popup, service worker e recursos da extens√£o.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi folder">üìÅ</span>
                      <div class="arch-path">background/</div>
                    </div>
                    <div class="arch-right">Orquestra√ß√£o MV3: recebe comandos do popup, coordena an√°lise/export e mant√©m estado tempor√°rio em mem√≥ria.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi js">JS</span>
                      <div class="arch-path">background/service-worker.js</div>
                    </div>
                    <div class="arch-right">Ponto central do runtime: handlers de mensagem, cache do resultado da an√°lise e gatilhos de export/download.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi folder">üìÅ</span>
                      <div class="arch-path">core/</div>
                    </div>
                    <div class="arch-right">Processamento browser-agnostic: normaliza√ß√£o, valida√ß√µes, constru√ß√£o de matrizes e gera√ß√£o de payloads.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi js">JS</span>
                      <div class="arch-path">core/url-processor.js</div>
                    </div>
                    <div class="arch-right">Normaliza/filtra URLs e aplica regras (ex.: remover par√¢metros, ignorar internos, validar formato).</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi js">JS</span>
                      <div class="arch-path">core/matrix-builder.js</div>
                    </div>
                    <div class="arch-right">Agrupa por dom√≠nio e constr√≥i a URL-Matriz (estrutura usada no popup e no export).</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi js">JS</span>
                      <div class="arch-path">core/exporter.js</div>
                    </div>
                    <div class="arch-right">Converte matrizes em formatos de export (json/txt/txt-simple), incluindo metadados e ordena√ß√£o.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi folder">üìÅ</span>
                      <div class="arch-path">infrastructure/</div>
                    </div>
                    <div class="arch-right">Integra√ß√£o com Chrome APIs (tabs/downloads): coleta abas e gerencia downloads.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi js">JS</span>
                      <div class="arch-path">infrastructure/tab-collector.js</div>
                    </div>
                    <div class="arch-right">Coleta abas, extrai URLs e entrega um dataset consistente para o core processar.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi js">JS</span>
                      <div class="arch-path">infrastructure/download-manager.js</div>
                    </div>
                    <div class="arch-right">Inicia o download com nome e MIME apropriados, via <code>chrome.downloads</code>.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi folder">üìÅ</span>
                      <div class="arch-path">popup/</div>
                    </div>
                    <div class="arch-right">UI: dispara comandos (analisar/exportar), exibe m√©tricas e lista de matrizes no popup.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi css">CSS</span>
                      <div class="arch-path">popup/popup.css</div>
                    </div>
                    <div class="arch-right">Estilos do popup (tema/cores), mantendo UX consistente com a extens√£o.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi js">JS</span>
                      <div class="arch-path">popup/popup.js</div>
                    </div>
                    <div class="arch-right">Handlers de UI: envia mensagens, renderiza resultados e controla estado da tela.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi folder">üìÅ</span>
                      <div class="arch-path">utils/</div>
                    </div>
                    <div class="arch-right">Constantes, logger e valida√ß√µes reutilizadas entre camadas.</div>
                  </div>

                  <div class="arch-row">
                    <div class="arch-left">
                      <span class="fi file">üì¶</span>
                      <div class="arch-path">types/index.js</div>
                    </div>
                    <div class="arch-right">Tipos via JSDoc para guiar estrutura de dados e manter o core previs√≠vel.</div>
                  </div>
                </div>
              </div>

              <div class="arch-side" aria-label="M√©tricas">
                <div class="arch-metric">
                  <div class="arch-metric-ico">JS</div>
                  <div>
                    <div class="arch-metric-value">11</div>
                    <div class="arch-metric-label">M√≥dulos JS (runtime)</div>
                  </div>
                </div>

                <div class="arch-metric">
                  <div class="arch-metric-ico css">CSS</div>
                  <div>
                    <div class="arch-metric-value">1</div>
                    <div class="arch-metric-label">Arquivo CSS (popup)</div>
                  </div>
                </div>

                <div class="arch-metric">
                  <div class="arch-metric-ico muted">&lt;600</div>
                  <div>
                    <div class="arch-metric-value">505</div>
                    <div class="arch-metric-label">Maior arquivo (linhas) ‚Äî <span class="kbd">popup/popup.css</span></div>
                  </div>
                </div>

                <div class="arch-metric">
                  <div class="arch-metric-ico">ES6</div>
                  <div>
                    <div class="arch-metric-value">Modules</div>
                    <div class="arch-metric-label">Imports/exports nativos (MV3)</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="technologies" class="section">
          <h2 class="sr-only">Tecnologias</h2>

          <div class="section-panel" aria-label="Tecnologias">
            <div class="section-head">
              <h3>Tecnologias Utilizadas</h3>
              <span class="chip">Stack</span>
            </div>
            <p class="section-subtitle">Stack do projeto e onde cada tecnologia aparece no c√≥digo.</p>

            <div class="grid">
              <div class="card col-4">
                <div class="tech-col-title">Core & Qualidade</div>

                <div class="tech-item">
                  <div class="tech-item-head">
                    <h4>JavaScript (ES Modules)</h4>
                    <span class="tech-pill">JS</span>
                  </div>
                  <p class="muted">Uso no projeto: m√≥dulos independentes por responsabilidade (core/infra/background/popup).</p>
                  <div class="req-code" style="margin-top: 10px;"><strong>Exemplos</strong>
core/url-processor.js
core/matrix-builder.js
core/exporter.js</div>
                </div>

                <div class="tech-item">
                  <div class="tech-item-head">
                    <h4>Clean Architecture (camadas)</h4>
                    <span class="tech-pill">CA</span>
                  </div>
                  <p class="muted">Uso no projeto: core puro; infraestrutura isola APIs; service worker coordena fluxos; UI s√≥ apresenta.</p>
                  <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
core/*
infrastructure/*
background/service-worker.js
popup/popup.js</div>
                </div>

                <div class="tech-item">
                  <div class="tech-item-head">
                    <h4>Tipagem via JSDoc</h4>
                    <span class="tech-pill">Types</span>
                  </div>
                  <p class="muted">Uso no projeto: estrutura de dados documentada para manter matrizes/export previs√≠veis.</p>
                  <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
types/index.js</div>
                </div>
              </div>

              <div class="card col-4">
                <div class="tech-col-title">Extens√£o & APIs</div>

                <div class="tech-item">
                  <div class="tech-item-head">
                    <h4>Manifest V3</h4>
                    <span class="tech-pill">MV3</span>
                  </div>
                  <p class="muted">Uso no projeto: define permiss√µes, popup e Service Worker como m√≥dulo.</p>
                  <div class="req-code" style="margin-top: 10px;"><strong>Config</strong>
manifest.json</div>
                </div>

                <div class="tech-item">
                  <div class="tech-item-head">
                    <h4>Chrome Tabs API</h4>
                    <span class="tech-pill">API</span>
                  </div>
                  <p class="muted">Uso no projeto: coleta URLs de abas abertas para montar o dataset.</p>
                  <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
infrastructure/tab-collector.js</div>
                </div>

                <div class="tech-item">
                  <div class="tech-item-head">
                    <h4>Chrome Downloads API</h4>
                    <span class="tech-pill">API</span>
                  </div>
                  <p class="muted">Uso no projeto: dispara o download do conte√∫do exportado (com nome/mime adequados).</p>
                  <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
infrastructure/download-manager.js</div>
                </div>
              </div>

              <div class="card col-4">
                <div class="tech-col-title">UI & Docs</div>

                <div class="tech-item">
                  <div class="tech-item-head">
                    <h4>HTML + CSS (Popup)</h4>
                    <span class="tech-pill">UI</span>
                  </div>
                  <p class="muted">Uso no projeto: interface enxuta com estados claros (carregando/resultado/erro).</p>
                  <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
popup/popup.html
popup/popup.css
popup/popup.js</div>
                </div>

                <div class="tech-item">
                  <div class="tech-item-head">
                    <h4>Mensageria runtime</h4>
                    <span class="tech-pill">runtime</span>
                  </div>
                  <p class="muted">Uso no projeto: UI manda comandos; Service Worker responde com resultados/erros.</p>
                  <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
popup/popup.js
background/service-worker.js</div>
                </div>

                <div class="tech-item">
                  <div class="tech-item-head">
                    <h4>Documenta√ß√£o</h4>
                    <span class="tech-pill">DOC</span>
                  </div>
                  <p class="muted">Uso no projeto: guias t√©cnicos (dados, fluxos e formatos) + p√°gina consolidada (este HTML).</p>
                  <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
docs/ARCHITECTURE.md
docs/EXPORT_FORMAT.md
docs/DATA_FLOW.md
docs/TUE-Documentation-v1.html</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="development" class="section">
          <h2 class="sr-only">Desenvolvimento</h2>

          <div class="section-panel" aria-label="Desenvolvimento">
            <div class="section-head">
              <h3>Desenvolvimento</h3>
              <span class="chip">Como evoluir</span>
            </div>
            <p class="section-subtitle">Decis√µes pr√°ticas para manter o projeto simples, seguro e evolutivo ‚Äî sempre preservando a separa√ß√£o de camadas.</p>

            <div class="grid">
              <div class="card col-12">
                <div class="card-top">
                  <div class="i-badge i-cyan">üß≠</div>
                  <div>
                    <h3>Vis√£o Geral</h3>
                    <p>A extens√£o √© constru√≠da em JavaScript com ES Modules e Manifest V3, sem depend√™ncias externas no runtime. O core permanece independente das APIs do Chrome.</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
manifest.json
core/*
infrastructure/*
background/service-worker.js
popup/*</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-green">üõ°Ô∏è</div>
                  <div>
                    <h3>Seguran√ßa</h3>
                    <p>Permiss√µes m√≠nimas e a√ß√µes expl√≠citas do usu√°rio. Sem tr√°fego de rede: os dados ficam locais.</p>
                  </div>
                </div>
                <div class="accent-note"><strong>Destaque:</strong> valide entradas antes de exportar.</div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
manifest.json
utils/validators.js</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-orange">‚ö°</div>
                  <div>
                    <h3>Desempenho</h3>
                    <p>Coleta apenas dados essenciais e processa em mem√≥ria; UI renderiza grupos de forma direta para evitar overhead.</p>
                  </div>
                </div>
                <div class="accent-note"><strong>Destaque:</strong> normaliza√ß√£o reduz duplicidade falsa e melhora agrupamento.</div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
core/url-processor.js
core/matrix-builder.js
popup/popup.js</div>
              </div>

              <div class="card col-4">
                <div class="card-top">
                  <div class="i-badge i-purple">üß±</div>
                  <div>
                    <h3>Estrutura & Boas Pr√°ticas</h3>
                    <p>Regras de evolu√ß√£o: mudan√ßas de regra em <code>core/</code>; integra√ß√µes em <code>infrastructure/</code>; coordena√ß√£o no SW; UI s√≥ apresenta.</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Mapa r√°pido</strong>
core/            regras e transforma√ß√µes
infrastructure/  Chrome APIs
background/      fluxo/estado
popup/           UI</div>
              </div>

              <div class="card col-6">
                <div class="card-top">
                  <div class="i-badge i-pink">üß™</div>
                  <div>
                    <h3>Testes & CI</h3>
                    <p>O caminho natural √© come√ßar testando o core (normaliza√ß√£o/dedup/export) e automatizar valida√ß√µes de regress√£o.</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
core/url-processor.js
core/exporter.js
docs/TEST_EXAMPLES.md</div>
              </div>

              <div class="card col-6">
                <div class="card-top">
                  <div class="i-badge">ü§ù</div>
                  <div>
                    <h3>Contribui√ß√£o</h3>
                    <p>Para evoluir sem quebrar camadas: implemente regras no core, mantenha APIs em infrastructure e conecte tudo via mensagens no Service Worker.</p>
                  </div>
                </div>
                <div class="req-code" style="margin-top: 10px;"><strong>Refer√™ncias</strong>
popup/popup.js
background/service-worker.js
core/*
infrastructure/*</div>
              </div>
            </div>

            <div class="mini-title">Estrutura (vis√£o r√°pida)</div>
            <pre><code>background/          Service Worker (MV3)
core/               L√≥gica de processamento (browser-agnostic)
infrastructure/     Integra√ß√µes com APIs do Chrome (tabs, downloads)
popup/              UI (HTML/CSS/JS)
utils/              Constantes, logger e validadores
types/              Tipos via JSDoc
docs/               Documenta√ß√£o</code></pre>

            <div class="mini-title">Checks manuais √∫teis</div>
            <ul>
              <li>Abrir 10‚Äì20 abas com dom√≠nios diferentes e confirmar agrupamento por dom√≠nio.</li>
              <li>Duplicar a mesma URL em abas diferentes e confirmar deduplica√ß√£o ap√≥s normaliza√ß√£o.</li>
              <li>Exportar <code>json</code>, <code>txt</code> e <code>txt-simple</code> e validar o arquivo gerado.</li>
            </ul>
          </div>
        </section>

        <div class="footer"></div>
      </div>
    </main>
  </div>

  <!-- Landing content is curated and summarized; deep dives remain in docs/*.md -->

  <script>
    (function () {
      // Normaliza blocos de c√≥digo embutidos: converte "\\n" literal em quebra de linha real
      // (evita texto estourar o card quando o HTML foi gerado/colado com escapes)
      document.querySelectorAll('.req-code').forEach(el => {
        el.textContent = (el.textContent || '').replace(/\\n/g, '\n');
      });

      const nav = document.getElementById('nav');
      const navLinks = Array.from(nav.querySelectorAll('a'));

      function setActive(hash) {
        navLinks.forEach(a => {
          const isActive = a.getAttribute('href') === hash;
          a.setAttribute('aria-current', isActive ? 'true' : 'false');
        });
      }

      function normalizeText(text) {
        return (text || '').toLowerCase().normalize('NFD').replace(/\p{Diacritic}/gu, '');
      }

      const search = document.getElementById('search');
      search.addEventListener('input', () => {
        const q = normalizeText(search.value.trim());
        navLinks.forEach(a => {
          const label = normalizeText(a.textContent);
          a.style.display = !q || label.includes(q) ? '' : 'none';
        });
      });

      function scrollToHash(hash, smooth) {
        const safeHash = hash && hash.startsWith('#') ? hash : '#intro';
        const target = document.querySelector(safeHash);
        if (!target) return;
        target.scrollIntoView({ behavior: smooth ? 'smooth' : 'auto', block: 'start' });
      }

      // Smooth-scroll for nav clicks (more reliable than relying on default anchor jumps)
      navLinks.forEach(a => {
        a.addEventListener('click', (ev) => {
          const href = a.getAttribute('href') || '';
          if (!href.startsWith('#')) return;
          ev.preventDefault();
          history.pushState(null, '', href);
          setActive(href);
          scrollToHash(href, true);
        });
      });

      window.addEventListener('hashchange', () => {
        const hash = location.hash || '#intro';
        setActive(hash);
        scrollToHash(hash, false);
      });

      const initialHash = location.hash || '#intro';
      setActive(initialHash);
      requestAnimationFrame(() => scrollToHash(initialHash, false));
    })();
  </script>
</body>
</html>
